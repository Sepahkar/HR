{% extends 'HR/base.html' %}
{%  load static %}
{% block MainContent %}
<div class="user-list-page">
    <div class="add-user">
        <img src="/static/HR/images/Icon/add-user.png" alt="افزودن کاربر جدید" title="افزودن کاربر جدید" />
        <a href="/HR/">افزودن کاربر جدید</a>
    </div>
    <div class="d-flex col-12 mt-5 flex-row">
        <input  id="txt-name" type="text" class="mx-5 search_x" data-value="item-name" placeholder="نام">
        <input id="txt-lastname" type="text"class="mx-5 search_x" data-value="item-lastname" placeholder=" نام خانوادگی">
        <input id="txt-role" type="text" class="mx-5 search_x" data-value="item-role" placeholder="سمت">
        <input  id="txt-team"  type="text" class="mx-5 search_x" data-value="item-team" placeholder="تیم">
    </div>
    <table class="user-list table" border="2">
        <tr>
            <th class="Textlist">نام</th>
            <th class="Textlist">نام خانوادگی</th>
            <th class="Textlist">نام کاربری</th>
            <th class="Textlist">شماره ملی</th>
            <th class="Textlist">تاریخ استخدام</th>
            <th class="Textlist">سمت</th>
            <th class="Textlist">تیم</th>
            <th class="Textlist">وضعیت فعال بودن</th>
        </tr>
            {% for obj in obj_info %}

{#                    <tr class="tr-href oddrow" data-href="{% url 'HR:hr_firstpage' obj.UserName.UserName  %}">#}
                    <tr class="tr-href oddrow" data-href="/HR/{{ obj.UserName.UserName }}">
                        <td class="item-name" data-value="{{ obj.UserName.FirstName}}">
                            {{ obj.UserName.FirstName}}
                        </td>
                        <td class="item-lastname" data-value="{{ obj.UserName.LastName}}">
                            {{ obj.UserName.LastName}}
                        </td>
                        <td class="item-username" data-value="{{ obj.UserName.UserName}}">
                            {{ obj.UserName.UserName}}
                        </td>
                        <td class="item-nationalcode" data-value="{{ obj.UserName.NationalCode}}">
                            {{ obj.UserName.NationalCode|default_if_none:'....'}}
                        </td>
                        <td class="item-contractdate" data-value="{{ obj.UserName.ContractJDate }}">
                            {{ obj.UserName.ContractJDate|default_if_none:'....' }}
                        </td>
                        <td class="item-role" data-value="{{ obj.RoleId.RoleName }}">
                            {{ obj.RoleId.RoleName }}
                        </td>
                        <td class="item-team" data-value="{{ obj.TeamCode.TeamName }}">
                            {{ obj.TeamCode.TeamName }}
                        </td>
                          {% if obj.EndDate %}
                             <td>
                                 <img class="img icon_check" src="/static/HR/images/Icon/Cancel.png">
                             </td>
                          {% else %}
                            <td>
                                <img class="img icon_check" src="/static/HR/images/Icon/Confirm.png">
                            </td>
                          {% endif %}
                    </tr>

            {% endfor %}
    </table>

</div>
{% endblock %}
